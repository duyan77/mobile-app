{% extends "./base.html" %}

{% load static %}

{% block content %}
<style>
    .col {
        transition: transform 0.3s ease;
    }

    .col:hover {
        transform: translateY(-10px);
    }

    .slideshow-container {
        position: relative;
        margin: auto;
        background-color: aqua;
        overflow: hidden;
    }

    .mySlides {
        display: none;
        transition: transform 0.5s ease;
    }


    .prev,
    .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        margin-top: -22px;
        padding: 16px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
    }

    .next {
        right: 0;
        border-radius: 3px 0 0 3px;
    }

    .prev:hover,
    .next:hover {
        background-color: rgba(0, 0, 0, 0.8);
    }
</style>
<!-- picture section -->
<div class="slideshow-container">
    <div class="mySlides">
        <img src="{% static 'media/images/ip.jpg' %}" style="width:100%">
    </div>

    <div class="mySlides">
        <img src="{% static 'media/images/lap.jpg' %}" style="width:100%">
    </div>

    <div class="mySlides">
        <img src="{% static 'media/images/ss.jpg' %}" style="width:100%">
    </div>

    <div class="mySlides">
        <img src="{% static 'media/images/ipad.jpg' %}" style="width:100%">
    </div>

    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>

<!-- Introduction section -->
<section class="py-4 text-center container ">
    <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
            <h4> Welcome to Mobile Store.</h4>
            <br>
            <p class="lead text-muted">
                Find the best mobile phones and accessories here.
            </p>
            <br>
            <a href="#" class="btn btn-primary my-2"> Shop Now </a>
        </div>
    </div>
</section>




<!-- All products section -->
<div class="album py-5 bg-light">
    <div class="container">
        <div class="pb-3 h5"> All products</div>
        <hr>
        <br>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5 g-3">
            {% for product in all_products %}
            <div class="col">
                <div class="card shadow-sm d-flex flex-column h-100">
                    <img class="img-fluid" alt="{{ product.title }}" src="{{ product.image.url }}">
                    <div class="card-body mt-auto">
                        <p class="card-text">
                            <a class="text-info text-decoration-none" href="{{ product.get_absolute_url }}">
                                {{ product.title | capfirst }}
                            </a>
                        </p>
                        <div class="d-flex justify-content-between align-items-center">
                            <h5>{{ product.formatted_price }}</h5>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- <script>
    let slideIndex = 1;
    showSlides(slideIndex);

    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        if (n > slides.length) { slideIndex = 1 }
        if (n < 1) { slideIndex = slides.length }
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slides[slideIndex - 1].style.display = "block";
    }
</script> -->
<script>
    let slideIndex = 0;
    let slides = document.getElementsByClassName("mySlides");

    function showSlides(n) {
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
            slides[i].style.transform = "translateX(100%)"; // Chuẩn bị cho hiệu ứng
        }

        slides[n].style.display = "block";
        slides[n].style.transform = "translateX(0)"; // Ảnh tiếp theo vào từ phải
    }

    function plusSlides(n) {
        slides[slideIndex].style.transform = "translateX(-100%)"; // Ảnh hiện tại ra bên trái
        slideIndex = (slideIndex + n + slides.length) % slides.length;
        showSlides(slideIndex);
    }

    // Hiển thị ảnh đầu tiên
    showSlides(slideIndex);
</script>

{% endblock %}